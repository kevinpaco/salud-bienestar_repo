<html xmlns:th="http://www.thymeleaf.org">
<head>
       <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}"/>
      <meta charset="utf-8"/>
      <title>inicio</title>
      <link rel="stylesheet" type="text/css" th:href="@{/css/header.css}"/>
      <link rel="stylesheet" type="text/css" th:href="@{/css/inicio.css}"/>
      <link rel="stylesheet" type="text/css" th:href="@{/css/testimonios.css}"/> 
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"> 
</head>
<body id="bodyInicio">
        <div class="container">        
           <header th:replace="~{../static/layouts/header :: header(usuId=${userId})}" class="container-fluid"></header>
             <div class="row">
                 <div class="col-md-4 offset-md-1 col-12">
                     <form class="form" th:action="@{/salud-bienestar/gestion/testimonios/}+${userId}" >
                          <div>
                               <label class="form-label filtro">Filtrar Por Email</label>
                               <input type="text" id="email" name="email" class="form-control" placeholder="Ingrese email" th:value="${email}" required>
                          </div>
                           <p th:if="${existe == 0 }" class="noExiste">Usuario No Existe</p>
                            <div class="botones"> 
                             <button type="submit" class="btn btn-success">Filtrar</button>
                             <button type="button" class="btn btn-secondary " onclick="limpiarCampos()">Limpiar</button>
                             </div>
                     </form>
                 </div>	         	         
                 <div class="col-md-10 offset-md-1 col-12">
                    <table class="table table-success table-hover">
						  <thead>
						    <tr>
						      <th scope="col" >Nombre</th>
						       <th scope="col">Apellido</th>
						      <th scope="col">Email</th>
						      <th scope="col">Comentario</th>
						       <th scope="col">Opciones</th>
						    </tr>
						  </thead>
						  <tbody>
						    <tr th:each="test:${testimonios}">
						      <th scope="row" th:text="${test.usuario.nombre}" ></th>
						      <th scope="row" th:text="${test.usuario.apellido}" ></th>
						      <td th:text="${test.usuario.email}"></td>
						      <td th:text="${test.comentario}"></td>
						      <td>
						          <a class="btn btn-danger" th:href="@{/salud-bienestar/testimonio/eliminar/}+${test.id}"><i class="bi bi-trash3"></i></a>
						      </td>
						    </tr>
						  </tbody>
						</table>
                 </div>
             </div>
             
               <footer th:replace="~{../static/layouts/footer :: footer}"></footer>
         </div>
          <script>          
           function limpiarCampos(){
        	  // const id = document.getElementById('userId').value = model.getAttribute('userId');
	          window.location="/salud-bienestar/gestion/testimonios/1";
              } 
     </script>
      <script src="/webjars/jquery/3.6.0/jquery.min.js" type="text/javascript"> </script>
		<script src="/webjars/popper.js/2.9.3/umd/popper.min.js" type="text/javascript"> </script>
		<script src="/webjars/bootstrap/5.1.3/js/bootstrap.min.js" type="text/javascript"> </script>
</body>
</html>